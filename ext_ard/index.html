<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Arduino - Scratch 3 OneGPIO Extensions</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Starting The OneGPIO Server For Arduino", url: "#_top", children: [
          ]},
          {title: "Manually Specifying The COM Port", url: "#manually-specifying-the-com-port", children: [
          ]},
          {title: "Manually Specifying An Arduino Instance", url: "#manually-specifying-an-arduino-instance", children: [
          ]},
          {title: "Troubleshooting", url: "#troubleshooting", children: [
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../ext_cpx/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../ext_cpx/" class="btn btn-xs btn-link">
        Circuit Playground Express
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../usage/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../usage/" class="btn btn-xs btn-link">
        How To Use The OneGPIO Extensions
      </a>
    </div>
    
  </div>

    

    <h2 id="starting-the-onegpio-server-for-arduino">Starting The OneGPIO Server For Arduino</h2>
<p>With power applied to your Arduino, press the Arduino's reset button.
<img src="../images/ard_reset.png" ></p>
<p>Next, open a terminal window and type:</p>
<pre><code>s3a
</code></pre>

<p><br>
<img src="../images/s3a-1.png" ></p>
<p>This command automatically starts the Python Banyan Backplane, and both
the Banyan WebSocket and Banyan Arduino Gateways. It starts an automatic 5-second
countdown timer to allow the Arduino adequate time to reset itself and start the 
Firmata-Express sketch.</p>
<p>To learn more about the Backplane and Gateways, visit "A Peek Under The Hood"
 for more information.</p>
<p>After the countdown time completes, the terminal window indicates that the Arduino
is initialized. You may now start Scratch 3 in your Web browser, as explained in the
"Launching Scratch 3" section of this document.</p>
<p><img src="../images/s3a-2.png" > </p>
<h2 id="manually-specifying-the-com-port">Manually Specifying The COM Port</h2>
<p>The Arduino Gateway will automatically discover the COM port that the Arduino Gateway
is using. </p>
<p>If you wish to manually specify the COM port, use the <strong><em>-c</em></strong> command-line option
when starting s3a.</p>
<p>For example, if you are using Windows and the COM port you wish to use is COM6, then,
start s3a with the following command:</p>
<pre><code>s3a -c COM6
</code></pre>

<p>For Linux or macOS, use the COM port designator specific to your operating system. 
For example, if the COM port is /dev/ttyACM0, then start s3a with the following command:</p>
<pre><code>s3a -c /dev/ttyACM0
</code></pre>

<h2 id="manually-specifying-an-arduino-instance">Manually Specifying An Arduino Instance</h2>
<p>If you have multiple Arduino's plugged into your computer, you can explicitly
tell s3a which one to use by taking advantage of the 
<a href="https://mryslab.github.io/pymata-express/firmata_express/">pymata-express Arduino Instance Id Feature,</a></p>
<p>You may do so using the <strong><em>-i</em></strong> command-line option:</p>
<pre><code>s3a -i 2
</code></pre>

<h2 id="troubleshooting">Troubleshooting</h2>
<p>Only use a high-quality USB cable. Verify that you properly connected the cable to both your computer and the Arduino. 
If s3a detects an error in either the backplane or the two gateways, it will shut itself down. </p>
<p>To troubleshoot why this may be happening, open a new terminal window and type:</p>
<pre><code>backplane
</code></pre>

<p>You should see a similar output, as shown below, indicating that the
backplane is running correctly. The IP address does not need to match
the one shown.</p>
<p><img src="../images/backplane.png" ></p>
<p>Next, open an additional terminal window and type:</p>
<pre><code>ardgw
</code></pre>

<p><img src="../images/ardgw_success.png" ></p>
<p>You should see a window similar to the one shown above.</p>
<p>If you do not, make sure that you've flashed the Arduino with the
FirmataExpress sketch, as explained in the "Preparing Your
Micro-Controller" section of this document.</p>
<p>Also, make sure that you've plugged the Arduino into a USB port before
starting s3a.</p>
<p>Next, open a third terminal window and type:</p>
<pre><code>wsgw
</code></pre>

<p><img src="../images/wsgwa_success.png" ></p>
<p>You should see a window similar to the one shown above.</p>
<p>If there are exceptions or errors in any of the terminal windows,
<a href="https://github.com/MrYsLab/s3-extend/issues">create an issue against the s3-extend distribution</a>
pasting any error output into the issue comment.</p>
<p><br> <br> <br></p>
<p>Copyright (C) 2019-2020 Alan Yorinks All Rights Reserved</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../ext_cpx/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../ext_cpx/" class="btn btn-xs btn-link">
        Circuit Playground Express
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../usage/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../usage/" class="btn btn-xs btn-link">
        How To Use The OneGPIO Extensions
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>